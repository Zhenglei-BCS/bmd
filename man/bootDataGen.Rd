% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bootDataGen.R
\name{bootDataGen}
\alias{bootDataGen}
\title{Generate Bootstrap Data for BMD Analysis}
\usage{
bootDataGen(object, R = 1000, bootType = "nonparametric", aggregated = TRUE)
}
\arguments{
\item{object}{A fitted dose-response model object (typically from `drm()`) 
containing the original data and model specifications}

\item{R}{integer; Number of bootstrap replicates to generate (default: 1000)}

\item{bootType}{character; Type of bootstrap resampling method. Options are:
\itemize{
  \item \code{"nonparametric"}: Resamples observations within dose groups
  \item \code{"parametric"}: Generates new data from fitted distributions
  \item \code{"semiparametric"}: Uses fitted values plus resampled residuals
}}

\item{aggregated}{logical; For binomial data, whether to return aggregated 
(summary) format or expanded (individual observation) format (default: TRUE)}
}
\value{
A list of length R containing bootstrap datasets. Each element is a 
        data.frame with the same structure as the original data, containing:
        \itemize{
          \item Dose variable (same name as original)
          \item Response variable(s) (same name(s) as original)
          \item For binomial data: number of successes and total observations
          \item For multi-curve data: curve identifier (if present)
        }
}
\description{
Helper function for `bmdBoot` that generates bootstrap datasets from fitted 
dose-response models. Supports multiple bootstrap methods (nonparametric, 
parametric, and semiparametric) and handles different response types 
(binomial, continuous, Poisson, negative binomial).
}
\details{
The function implements different bootstrap strategies based on data type and method:

**Nonparametric Bootstrap:**
\itemize{
  \item \strong{Binomial}: Expands binomial data to individual observations, 
        resamples within dose groups, then optionally re-aggregates
  \item \strong{Continuous/Count}: Resamples observations within dose groups 
        from the original dataset
}

**Parametric Bootstrap:**
\itemize{
  \item \strong{Binomial}: Generates new binomial observations using estimated 
        success probabilities, with continuity correction (adds 0.25/0.5) for 
        boundary cases
  \item \strong{Continuous}: Generates normal random variables using 
        dose-specific means and standard deviations from original data
}

**Semiparametric Bootstrap:**
\itemize{
  \item \strong{Continuous only}: Uses fitted values plus resampled residuals
  \item \strong{Binomial}: Not supported (throws error)
}
}
\note{
This is an internal helper function for `bmdBoot`. It assumes the input object 
has the standard structure from `drm()` fitting, including components like 
`data`, `origData`, `call`, `type`, etc.

**Important considerations:**
\itemize{
  \item Semiparametric bootstrap requires model residuals and fitted values
  \item Parametric bootstrap assumes distributional assumptions are met
  \item Large R values may require substantial memory for complex datasets
}
}
\section{Data Type Handling}{


**Binomial Data:**
\itemize{
  \item Handles both aggregated (n successes out of N trials) and expanded formats
  \item Preserves dose group structure during resampling
  \item Applies continuity correction in parametric bootstrap
}

**Continuous Data:**
\itemize{
  \item Maintains dose group structure
  \item Preserves within-group variability patterns
  \item Uses original data (`origData`) when available
}

**Count Data (Poisson/Negative Binomial):**
\itemize{
  \item Treated similarly to continuous data for nonparametric bootstrap
  \item Resamples within dose groups
}
}

\section{Multi-curve Support}{

The function handles multi-curve dose-response data by preserving curve 
identifiers during bootstrap resampling, ensuring that the bootstrap samples 
maintain the original experimental structure.
}

\examples{
\dontrun{
# Typically called internally by bmdBoot, but can be used directly:

# Fit a dose-response model
model <- drm(response/total ~ dose, weights = total, 
             data = binomial_data, fct = LL.4())

# Generate nonparametric bootstrap samples
boot_data <- bootDataGen(model, R = 100, bootType = "nonparametric")

# Generate parametric bootstrap samples  
boot_data_param <- bootDataGen(model, R = 100, bootType = "parametric")

# For continuous data with semiparametric bootstrap
cont_model <- drm(response ~ dose, data = continuous_data, fct = LL.4())
boot_data_semi <- bootDataGen(cont_model, R = 100, bootType = "semiparametric")

# Access first bootstrap sample
first_sample <- boot_data[[1]]
} 
}
\seealso{
\code{\link{bmdBoot}} for the main bootstrap BMD function,
}
